<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <title>Entrar • Camisas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    :root{
      --ink:#0f172a; --muted:#64748b; --ring:rgba(37,99,235,.18);
      --g1:#0b1020; --g2:#111a3a; --base-font:14px;
    }
    html{ font-size:var(--base-font); }
    body{ background:#f6f8fb; color:var(--ink); min-height:100vh; display:flex; flex-direction:column; }

    .nav-pro{ background:linear-gradient(90deg,var(--g1),var(--g2)); }

    .login-wrap{
      flex:1 0 auto; display:grid; place-items:center; padding:2rem 1rem;
    }
    .card-clean{
      width:100%; max-width: 420px; background:#fff;
      border:none; box-shadow:0 10px 24px rgba(17,24,39,.08);
      border-radius:.9rem; overflow:hidden;
    }
    .card-head{
      background:linear-gradient(90deg,var(--g1),var(--g2));
      color:#fff; padding:1rem 1.25rem;
    }
    .brand{ font-weight:700; font-size:1rem; letter-spacing:.2px; }
    .muted{ color:var(--muted); }
    .form-control, .form-select{ border-color:#e5e7eb; }
    .form-control:focus{ box-shadow:0 0 0 .25rem var(--ring); border-color:#93c5fd; }
    .btn{ font-size:.95rem; padding:.5rem .9rem; }
    .small a{ text-decoration:none; }
    footer{ flex:0 0 auto; }
  </style>
</head>
<body>

<nav class="navbar nav-pro navbar-dark">
  <div class="container">
    <a class="navbar-brand fw-bold" href="{% url 'camisas:home' %}"></a>
    <div class="ms-auto">
      <a class="btn btn-sm btn-warning" href="{% url 'camisas:home' %}">Início</a>
    </div>
  </div>
</nav>

<div class="login-wrap">
  <div class="card-clean">
    <div class="card-head">
      <div class="brand">Acessar o sistema</div>
      <div class="small text-white-50">Informe suas credenciais</div>
    </div>
    <div class="p-4">
      {% if form.errors %}
        <div class="alert alert-danger">Usuário ou senha inválidos. Tente novamente.</div>
      {% endif %}

      {% if next %}
        {% if user.is_authenticated %}
          <div class="alert alert-warning">Sua conta não tem acesso a esta página.</div>
        {% endif %}
      {% endif %}

      <form method="post" novalidate>
        {% csrf_token %}

        <!-- Usuário -->
        <div class="mb-3">
          <label for="id_username" class="form-label">Usuário</label>
          <input type="text" name="username" autofocus required
                 class="form-control" id="id_username"
                 placeholder="ex.: admin">
        </div>

        <!-- Senha -->
        <div class="mb-2">
          <label for="id_password" class="form-label">Senha</label>
          <input type="password" name="password" required
                 class="form-control" id="id_password"
                 placeholder="••••••••">
        </div>

        <!-- Campo 'next' (quando vem de @login_required) -->
        {% if next %}
          <input type="hidden" name="next" value="{{ next }}">
        {% endif %}

        <div class="d-grid mt-3">
          <button class="btn btn-primary" type="submit">Entrar</button>
        </div>

        <div class="d-flex justify-content-between align-items-center mt-3 small muted">
          <div>Precisa de acesso? Fale com o administrador.</div>
          <!-- Ativar depois que configurar e-mail:
          <a href="{% url 'password_reset' %}">Esqueci minha senha</a>
          -->
        </div>
      </form>
    </div>
  </div>
</div>

<footer class="py-4">
  <div class="container small muted d-flex justify-content-between">
    <span>© {% now "Y" %} <Em>Empório da Katy</Em></span>
    <span>Desenvolvido por Alexandre Martins Vieira</span>
  </div>
</footer>

</body>
</html>
